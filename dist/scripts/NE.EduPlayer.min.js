function allLibsLoaded(){libsloaded++,libsloaded==libCount&&attachEvents()}function attachEvents(){NE.Net.AddScriptFile(NE.Constants.CONTENT_BASE_PATH+"/content/structure/courseTree.js",NE.EventHandlers.StructureLoaded),$(window).on("resize",function(e){NE.EventHandlers.WindowResize(e)}),$(document).on("beforeunload unload",function(){NE.LMS.Exit()}),$(window).on("beforeunload unload",function(){NE.LMS.Exit()}),FastClick.attach(document.body),NE.Events.Add(NE.Navigation.ON_NAVIGATION,NE.EventHandlers.Navigation),$("body").on("click",".NE-nav-back",function(){$(this).hasClass("disable")||NE.EventHandlers.NavBackBtnClick($(this))}),$("body").on("click",".NE-nav-forward",function(){$(this).hasClass("disable")||NE.EventHandlers.NavForwardBtnClick($(this))}),$("#NE-chapter-label").on("click",function(){NE.EventHandlers.ChapterLabelClick($(this))}),$("#NE-scroller").on("click",".NE-chapterlink",function(e){NE.EventHandlers.ChapterLinkCLick($(this),e)}),$(document).on("keyup",NE.EventHandlers.KeyUp)}if(null===NE||void 0===NE)var NE={};if(NE.Constants=function(){var _basePath,_contentPath;return function(){var scripts=document.getElementsByTagName("script"),src=scripts[scripts.length-1].src;_basePath=src.match(/^(http.+\/)/)[1],_basePath=_basePath.split("/").slice(0,-2).join("/"),_contentPath=window.location.href.match(/^(http.+\/)/)[1],_contentPath=_contentPath.split("/").slice(0,-2).join("/")}(),{APPLICATION_BASE_PATH:_basePath,CONTENT_BASE_PATH:_contentPath,MAIN_CONTENT_CONTAINER_ID:"NE-main-container",SCROLL_CONTAINER_ID:"NE-scroller",CHAPTER_CLASS:"NE-chapter",PAGE_ID_PREFIX:"NE-page-",CHAPTER_ID_PREFIX:"NE-chapter-",FLOATING_HEADER_ID:"NE-top",CLOSE_BUTTON_ID:"NE-top-close-btn",OF_CANVAS_TOP_CLASS:"NE-offcanvas",HEADER_CHAPTER_NAV_ICON:'<i class="fa fa-navicon ml-xs"></i>',LIBRARIES:["fastclick.js","ScrollWatch.js"],eof:null}}(),null===NE||void 0===NE)var NE={};NE.EventHandlers=function(){function _oneChapterLoaded(i_chapter){i_chapter.OnLoaded=function(){_chaptersLoaded++,_chaptersLoaded>=NE.CourseTree.chapters.length-1&&NE.EventHandlers.ChaptersLoaded()},i_chapter.Init()}var _bookmarkTImer,_resizeTimer,_chaptersLoaded=0;return{StructureLoaded:function(){$(".NE-plugin-container").each(function(){NE.Plugin.Load({name:$(this).data("plugin"),node:$(this),settings:{}},function(i_instance){i_instance.Init()})});for(var i=0;i<NE.CourseTree.chapters.length;i++)NE.Plugin.Load({name:"chapter",node:$("<div></div>").appendTo("#"+NE.Constants.SCROLL_CONTAINER_ID),settings:{index:i,chapter:NE.CourseTree.chapters[i]}},_oneChapterLoaded)},WindowResize:function(){var focusTagName=$(":focus")&&$(":focus").prop("tagName")?$(":focus").prop("tagName").toUpperCase():"";"TEXTAREA"!=focusTagName&&"INPUT"!=focusTagName&&(NE.UI.AcceptScrollEvent=!1,$("#"+NE.Constants.MAIN_CONTENT_CONTAINER_ID).css("visibility","hidden"),NE.UI.DisableContentScroll(),clearTimeout(_resizeTimer),_resizeTimer=setTimeout(function(){$("#"+NE.Constants.MAIN_CONTENT_CONTAINER_ID).css("visibility","visible"),NE.UI.EnableContentScroll(),NE.UI.ScrollToPage(!0),NE.UI.SwitchTopMenu()},500))},ChaptersLoaded:function(){NE.UI.Setup(),NE.UI.AcceptScrollEvent=!1,NE.SCORM.RegisterSections(),NE.LMS.Sections.SetState(NE.CourseTree.SCO_name+"_0","completed"),NE.UI.PreHide(),NE.SCORM.Unlockhistory(),$(".NE-scroll-watched").on("sw-scrolled",function(e,scrollObj){NE.EventHandlers.OnPageScroll($(this),scrollObj)}),$(".NE-scroll-watched").ScrollWatch({axis:"y",prioritize:"max",swWindow:"#"+NE.Constants.MAIN_CONTENT_CONTAINER_ID,swDocument:"#"+NE.Constants.SCROLL_CONTAINER_ID}),NE.Plugin["NE-top-chapter-navigation"].Update(),$("#"+NE.Constants.MAIN_CONTENT_CONTAINER_ID).css("visibility","visible"),NE.SCORM.NavigateToBookmark(),NE.UI.Ready()},OnPageScroll:function(i_item,scrollObj){if(i_item.is(":visible")){var pageIndex=parseInt(i_item.data("index"),10),chapterIndex=parseInt(i_item.data("chapter"),10),ismostVisible=scrollObj.visibility>.8,isNewPage=i_item.attr("id")!=NE.Navigation.CurrentPageDiv().attr("id"),isLastPage=pageIndex==NE.CourseTree.chapters[chapterIndex].pages.length-1;if(ismostVisible&&isNewPage&&isLastPage){var sectionID=NE.CourseTree.SCO_name+"_"+chapterIndex;NE.LMS.Sections.SetState(sectionID,"completed")}NE.UI.AcceptScrollEvent&&ismostVisible&&isNewPage&&(NE.Navigation.CurrentChapterIndex=chapterIndex,NE.Navigation.CurrentPageIndex=pageIndex,NE.Navigation.ToPage(NE.Navigation.CurrentPageIndex,NE.Navigation.CurrentChapterIndex),clearTimeout(_bookmarkTImer),_bookmarkTImer=setTimeout(function(){NE.CourseTree.chapters[chapterIndex].pages[pageIndex].keepprogress!==!1&&(NE.LMS.Bookmark.SetBookmark(i_item.attr("id")),NE.UI.SetNavigationButtons())},300))}},NavBackBtnClick:function(i_item){NE.Navigation.Previous(),NE.UI.ScrollToPage(),i_item.blur()},NavForwardBtnClick:function(i_item){NE.Navigation.Next(),NE.UI.ScrollToPage(),i_item.blur()},Navigation:function(){var prevPage=NE.Navigation.MockPrev();-1!=prevPage.chapter&&NE.UI.HideVIsitedItems(prevPage.chapter,prevPage.page),$(".NE-video").each(function(){$(this)[0].pause()}),NE.UI.SwitchTopMenu(),NE.UI.SetNavigationButtons(),NE.SCORM.InitBookmark||NE.LMS.Bookmark.SetBookmark(NE.Navigation.CurrentPageDiv().attr("id")),NE.Plugin["NE-top-chapter-navigation"].Update()},AfterPageScroll:function(){NE.Plugin["NE-top-chapter-navigation"].Update()},ChapterLinkCLick:function(i_item){if(!i_item.hasClass("disable")&&!i_item.hasClass("current")){for(var chapterIndex=parseInt(i_item.data("chapter"),10),i=($("#"+NE.Constants.CHAPTER_ID_PREFIX+chapterIndex),NE.Navigation.CurrentChapterIndex);chapterIndex>i;i++)NE.UI.Unlock(i);NE.UI.Unlock(chapterIndex,0),NE.Navigation.ToChapter(chapterIndex),NE.UI.ScrollToPage()}},KeyUp:function(e){var k=e.which;return 13==k||32==k||34==k||39==k?NE.Navigation.Next():(8==k||33==k||37==k)&&NE.Navigation.Previous(),e.preventDefault(),!1},eof:null}}(),NE.Events=function(){var _eventList={};return{Register:function(owner,eventName){_eventList[eventName]||(_eventList[eventName]={ownedBy:owner,callbacks:[]})},Add:function(eventName,callback){if(!eventName)throw new Error("Parameter 'eventName' is not valid");if(!_eventList[eventName])throw new Error('The event name "'+eventName+'" is not registered');_eventList[eventName].callbacks.push(callback)},Remove:function(eventName,callback){for(var callbackCollection=_eventList[eventName].callbacks,i=0;i<callbackCollection.length;i++)if(callbackCollection[i]===callback)return void callbackCollection.splice(i,1)},Execute:function(owner,eventName,e){if(!_eventList[eventName])throw new Error('The event name "'+eventName+'" is not registered');if(_eventList[eventName].ownedBy!==owner)throw Error("The event caller doesn't match the registered event owner");e=[].concat(e);for(var callbackCollection=_eventList[eventName].callbacks,i=0;i<callbackCollection.length;i++)callbackCollection[i].apply(owner,e)},eof:null}}(),$(window).load(function(){if(console.info("Turning off mock SCORM API logging"),NE.API_1484_11.PreventLog=!0,libCount>0)for(var i=0;libCount>i;i++)NE.Net.AddScriptFile(NE.Constants.APPLICATION_BASE_PATH+"/scripts/libraries/"+NE.Constants.LIBRARIES[i],allLibsLoaded);else attachEvents()});var libCount=NE.Constants.LIBRARIES.length,libsloaded=0;if(null===NE||void 0===NE)var NE={};if(NE.Navigation=function(){function _onNavigation(e){NE.Events.Execute(_eventOwnerKey,_onNavigationKey,e)}var _onNavigationKey="69133ac8-a5ec-4d67-a137-2916e629a0b1",_eventOwnerKey=Math.random()+""+Math.random();return function(){NE.Events.Register(_eventOwnerKey,_onNavigationKey)}(),{ON_NAVIGATION:_onNavigationKey,CurrentChapterIndex:0,CurrentPageIndex:0,CurrentChapterDiv:function(){return $("#"+NE.Constants.CHAPTER_ID_PREFIX+NE.Navigation.CurrentChapterIndex)},CurrentPageDiv:function(){return $("#"+NE.Constants.PAGE_ID_PREFIX+NE.Navigation.CurrentChapterIndex+"-"+NE.Navigation.CurrentPageIndex)},IsAtLast:function(){var isLastChapter=NE.Navigation.CurrentChapterIndex==NE.CourseTree.chapters.length-1,isLastPage=NE.Navigation.CurrentPageIndex==NE.CourseTree.chapters[NE.Navigation.CurrentChapterIndex].pages.length-1;return isLastChapter&&isLastPage},ToChapter:function(index,preventNav){0>index||index>=NE.CourseTree.chapters.length||(NE.CourseTree.chapters[index].properties.locked=!1,NE.Navigation.CurrentChapterIndex=index,preventNav||NE.Navigation.ToPage(0))},ToPage:function(index,chapter){chapter&&NE.Navigation.ToChapter(chapter,!0),0>index||index>=NE.CourseTree.chapters[NE.Navigation.CurrentChapterIndex].pages.length||(NE.Navigation.CurrentPageIndex=index,_onNavigation({page:NE.Navigation.CurrentPageIndex,chapter:NE.Navigation.CurrentChapterIndex}))},MockNext:function(){var page=NE.Navigation.CurrentPageIndex+1,chapter=NE.Navigation.CurrentChapterIndex;return page>=NE.CourseTree.chapters[chapter].pages.length&&(chapter+=1,page=0,chapter>=NE.CourseTree.chapters.length-1&&(chapter=-1,page=-1)),{chapter:chapter,page:page}},MockPrev:function(){var page=NE.Navigation.CurrentPageIndex-1,chapter=NE.Navigation.CurrentChapterIndex;return 0>page&&(chapter-=1,1>chapter?(chapter=-1,page=-1):page=NE.CourseTree.chapters[chapter].pages.length-1),{chapter:chapter,page:page}},Next:function(){var page=NE.Navigation.CurrentPageIndex+1;if(page>=NE.CourseTree.chapters[NE.Navigation.CurrentChapterIndex].pages.length){if(NE.Navigation.CurrentChapterIndex>=NE.CourseTree.chapters.length-1)return;NE.Navigation.CurrentChapterIndex+=1,NE.CourseTree.chapters[NE.Navigation.CurrentChapterIndex].properties.locked=!1,page=0}NE.Navigation.ToPage(page)},Previous:function(){var page=NE.Navigation.CurrentPageIndex-1;if(0>page){if(NE.Navigation.CurrentChapterIndex<1)return;NE.Navigation.CurrentChapterIndex-=1,NE.CourseTree.chapters[NE.Navigation.CurrentChapterIndex].properties.locked=!1,page=NE.CourseTree.chapters[NE.Navigation.CurrentChapterIndex].pages.length-1}NE.Navigation.ToPage(page)},eof:null}}(),null===NE||void 0===NE)var NE={};if(NE.Net=function(){function _handleDuplicateFiles(i_file,i_callback){"loading"!==_loadedFiles[i_file]?i_callback&&i_callback(_loadedFiles[i_file]):(void 0===_callBackQueue[i_file]&&(_callBackQueue[i_file]=[]),_callBackQueue[i_file].push(i_callback))}function _runCallbackQueue(i_file,i_data){if(void 0!==_callBackQueue[i_file])for(var i=0;i<_callBackQueue[i_file].length;i++)_callBackQueue[i_file][i](i_data)}function _getFile(i_file,i_callback){return void 0!==_loadedFiles[i_file]?void _handleDuplicateFiles(i_file,i_callback):(_loadedFiles[i_file]="loading",void $.get(i_file).done(function(i_data){_loadedFiles[i_file]=i_data,i_callback&&i_callback(i_data),_runCallbackQueue(i_file,i_data)}))}var _loadedFiles={},_callBackQueue={};return{LoadTxtFile:function(i_file,i_callback){_getFile(i_file,i_callback)},LoadJsonFile:function(i_file,i_callback){_getFile(i_file,function(i_data){i_callback(JSON.parse(i_data))})},AddScriptFile:function(i_file,i_callback){if(void 0!==_loadedFiles[i_file])return void _handleDuplicateFiles(i_file,i_callback);_loadedFiles[i_file]="loading";var tag=document.createElement("script");tag.rel="text/javascript",$("body").append(tag),tag.onload=function(){_loadedFiles[i_file]="JS "+i_file+" loaded to DOM",i_callback&&i_callback(),_runCallbackQueue(i_file,null)},tag.src=i_file},AddCssFile:function(i_file){if(void 0===_loadedFiles[i_file]){_loadedFiles[i_file]="CSS "+i_file+" loaded to DOM";var tag=document.createElement("link");tag.rel="stylesheet",tag.href=i_file,$("head").append(tag)}},GetExtension:function(i_file){return-1==i_file.indexOf(".")?"":i_file.split(".").slice(-1).toString().toLowerCase()},eof:null}}(),null===NE||void 0===NE)var NE={};if(NE.Plugin=function(){function _resolvePath(i_path){var pathParts=i_path.split("/"),name=pathParts.slice(-1).join("");return{path:pathParts.length>1?pathParts.join("/"):_basePath+"/"+name,name:name}}function _findTokens(i_name,i_data){var rgx=new RegExp("{"+i_name+"[.|\\s\\S]+?{\\/"+i_name+"}","g"),tokens=i_data.match(rgx),objs=[];if(!tokens)return objs;for(var i=0;i<tokens.length;i++){var obj=_buildObj(i_name,tokens[i]);objs.push(obj)}return objs}function _removeTokens(i_name,i_data){var rgx=new RegExp("{"+i_name+"[.|\\s\\S]+?{\\/"+i_name+"}","g");return i_data.replace(rgx,"")}function _buildObj(i_name,i_token){var nameRgx=new RegExp("{"+i_name+":(.*?)}"),dataRgx=new RegExp("}(.|[\\s\\S]*?){\\/"+i_name+"}"),objName=i_token.match(nameRgx);return objName=objName?objName[1]:"param",{name:objName,data:i_token.match(dataRgx)[1]}}function _runFunction(i_plugin,i_name,i_params,i_data){var rgx=new RegExp("{function:"+i_name+"}[.|\\s\\S]+?{\\/function}","g");return i_data.replace(rgx,i_plugin[i_name](i_params))}function _attachEventsToInstance(i_instanceID){var eventInstance=_itemEvents[i_instanceID];if(null!==eventInstance&&void 0!==eventInstance)for(var i=0;i<eventInstance.eventList.length;i++){var eventObj=eventInstance.eventList[i];NE.Plugin[i_instanceID][eventObj.event]=eventObj.callback}}var _basePath=NE.Constants.APPLICATION_BASE_PATH+"/scripts/components",_itemEvents={};return{Load:function(i_initObj,i_callback){var pn=_resolvePath(i_initObj.name),baseFileName=pn.path+"/"+pn.name;NE.Net.AddScriptFile(baseFileName+".js",function(){var instance=new NE.Plugin[pn.name](i_initObj);instance.BaseFileName=baseFileName;var instanceID=i_initObj.settings&&i_initObj.settings.ID?i_initObj.settings.ID:Math.random().toString();NE.Plugin[instanceID]=instance;var depends=instance.Dependencies;if(depends)for(var i=0;i<depends.length;i++){var ext=NE.Net.GetExtension(depends[i]);switch(ext.toString().toLowerCase()){case"css":NE.Net.AddCssFile(pn.path+"/"+depends[i]);break;case"js":}}_attachEventsToInstance(instanceID),i_callback&&i_callback(instance)})},LoadAll:function(i_parentElem,i_onLoadCallback){$(".NE-plugin-container",i_parentElem).each(function(){var plug=$(this);NE.Plugin.Load({name:plug.data("plugin"),node:plug,settings:NE.Plugin.ParseSettings(plug.data("settings"))},function(i_instance){i_instance.OnLoaded=i_onLoadCallback,i_instance.Init()})})},ParseSettings:function(i_data){if(!i_data)return{};try{return JSON.parse(unescape(i_data.replace(/'/g,'"')))}catch(ex){console.log(i_data)}},ApplyTemplate:function(i_instance,i_callback){var templateData="",crntPlugin=i_instance;NE.Net.LoadTxtFile(i_instance.BaseFileName+".html",function(data){templateData=data;for(var variables=_findTokens("var",templateData),i=0;i<variables.length;i++)crntPlugin[variables[i].name]=variables[i].data;templateData=_removeTokens("var",templateData);for(var functions=_findTokens("function",templateData),j=0;j<functions.length;j++){var params=_findTokens("param",functions[j].data);templateData=_runFunction(crntPlugin,functions[j].name,params,templateData)}i_callback&&i_callback(templateData)})},AttachEvent:function(i_itemID,i_event,i_callback){var itemSlot=_itemEvents[i_itemID];(null===itemSlot||void 0===itemSlot)&&(_itemEvents[i_itemID]={eventList:[]}),_itemEvents[i_itemID].eventList.push({event:i_event,callback:i_callback})},eof:null}}(),null===NE||void 0===NE)var NE={};if(NE.SCORM=function(){var _progress,_success,_completion;return function(){NE.LMS.AddEvent(NE.LMS.ON_COMPLETION_STATUS_CHANGED,function(e){_completion=e.status;try{NE.LMS.Objectives.Set([{id:NE.CourseTree.SCO_name,completion_status:_completion||"incomplete",success_status:_success||"unknown",progress_measure:_progress||0}])}catch(ex){console.warn("Failed to set status of objective: "+NE.CourseTree.SCO_name)}},this),NE.LMS.AddEvent(NE.LMS.ON_PROGRESS_MESSURE_CHANGED,function(e){_progress=e.progress},this),NE.LMS.AddEvent(NE.LMS.ON_SUCCESS_STATUS_CHANGED,function(e){_success=e.success},this)}(),{InitBookmark:null,NavigateToBookmark:function(){if(this.InitBookmark=NE.LMS.Bookmark.GetBookmark(),this.InitBookmark){var visitItem=$("#"+this.InitBookmark);NE.Navigation.CurrentChapterIndex=parseInt(visitItem.data("chapter"),10),NE.Navigation.CurrentPageIndex=parseInt(visitItem.data("index"),10),NE.Navigation.ToPage(NE.Navigation.CurrentPageIndex,NE.Navigation.CurrentChapterIndex);for(var i=0;i<NE.Navigation.CurrentChapterIndex;i++)NE.CourseTree.chapters[i].properties.locked=!1;NE.UI.Unlock(NE.Navigation.CurrentChapterIndex,NE.Navigation.CurrentPageIndex),NE.UI.ScrollToPage(!1),this.InitBookmark=null}else NE.UI.ScrollToPage(!1)},RegisterSections:function(){for(var sections=[],i=0;i<NE.CourseTree.chapters.length;i++)sections.push(NE.LMS.Section(NE.CourseTree.SCO_name+"_"+NE.CourseTree.chapters[i].index));NE.LMS.Sections.RegisterSections(sections)},Unlockhistory:function(){for(var lastChapterIndex,sections=NE.LMS.Sections.GetSections(),i=0;i<sections.length;i++)if("completed"==sections[i].State){var index=sections[i].ID.split("_");index=parseInt(index[index.length-1],10),NE.UI.Unlock(lastChapterIndex),lastChapterIndex=index}lastChapterIndex&&NE.UI.HideVIsitedItems(lastChapterIndex)},eof:null}}(),null===NE||void 0===NE)var NE={};if(NE.Scroll=function(){return{ToElementY:function(jqElement,anchor,callback){var parentPage=$("#"+NE.Constants.SCROLL_CONTAINER_ID),viewPort=$("#"+NE.Constants.MAIN_CONTENT_CONTAINER_ID),viewTarget=viewPort.offset().top+30,scrollAnchor=jqElement.offset().top;!anchor||anchor&&"middle"==anchor.toString().toLowerCase()?(viewTarget+=viewPort.innerHeight()/2,scrollAnchor+=jqElement.outerHeight()/2):anchor&&"bottom"==anchor.toString().toLowerCase()&&(viewTarget+=viewPort.innerHeight(),scrollAnchor+=jqElement.outerHeight());var diff=scrollAnchor-viewTarget,time=Math.abs(diff);time=Math.min(Math.max(time,100),500),parentPage.animate({scrollTop:"+="+diff+"px"},time,function(){callback&&callback()})}}}(),null===NE||void 0===NE)var NE={};NE.UI=function(){function _getScrollbarWidth(){if(null!==_scrollbarWidth)return _scrollbarWidth;var outer=document.createElement("div");outer.style.visibility="hidden",outer.style.width="100px",outer.style.msOverflowStyle="scrollbar",document.body.appendChild(outer);var widthNoScroll=outer.offsetWidth;outer.style.overflow="scroll";var inner=document.createElement("div");inner.style.width="100%",outer.appendChild(inner);var widthWithScroll=inner.offsetWidth;return outer.parentNode.removeChild(outer),_scrollbarWidth=widthNoScroll-widthWithScroll}function _scrollHintAnimate(i_scrollElem,i_scrollTop){return clearTimeout(_hintTImer),i_scrollElem.scrollTop()!=i_scrollTop||_scrollHintDismissed||NE.Navigation.CurrentChapterIndex>0||NE.Navigation.CurrentPageIndex>0?($("#NE-scroll-hint").removeClass("active").addClass("hidden"),void(_scrollHintDismissed=!0)):void(_hintTImer=setTimeout(function(){_scrollHintAnimate(i_scrollElem,i_scrollTop)},100))}var _topMenuOffset=0,_scrollbarWidth=null,_scrollHintDismissed=!1,_hintTImer=null,_onUIReadyKey="a716ed95-dc66-468f-9802-a2203494a7f5",_eventOwnerKey=Math.random()+""+Math.random();return function(){NE.Events.Register(_eventOwnerKey,_onUIReadyKey)}(),{ON_READY:_onUIReadyKey,AcceptScrollEvent:!1,Setup:function(){$("#"+NE.Constants.FLOATING_HEADER_ID).css("right",_getScrollbarWidth()+"px"),$("#NE-top-backdrop").css("right",_getScrollbarWidth()+"px"),NE.UI.SwitchTopMenu()},PreHide:function(){var isHidden=!1;$(".NE-page").each(function(){var page=$(this);page.hasClass("NE-nav-hidden")?isHidden=!0:isHidden&&page.addClass("NE-nav-hidden")}),$(".NE-chapter").each(function(){var chapter=$(this),pages=chapter.find(".NE-page"),hiddenPages=chapter.find(".NE-nav-hidden");pages.length&&pages.length==hiddenPages.length&&chapter.addClass("NE-nav-hidden")})},Ready:function(){NE.Events.Execute(_eventOwnerKey,_onUIReadyKey,{})},HideVIsitedItems:function(i_chapter,i_page){null===i_page||void 0===i_page?$("#"+NE.Constants.CHAPTER_ID_PREFIX+i_chapter).find(".NE-hidden-visited").fadeOut(200,function(){$(this).addClass("hidden")}):$("#"+NE.Constants.PAGE_ID_PREFIX+i_chapter+"-"+i_page).find(".NE-hidden-visited").fadeOut(200,function(){$(this).addClass("hidden")})},Unlock:function(i_chapter,i_page){for(var i=i_chapter;i<NE.CourseTree.chapters.length;i++){for(var oneVisible=!1,chapter=NE.CourseTree.chapters[i],j=i_page||0;j<chapter.pages.length;j++){var page=chapter.pages[j],onlyChapterButAfter=void 0===i_page&&i>i_chapter,pageAndAfter=void 0!==i_page&&(j>i_page||i>i_chapter);if(page.stopprogress&&(onlyChapterButAfter||pageAndAfter))return void(oneVisible&&$("#NE-chapter-"+i).removeClass("NE-nav-hidden"));NE.CourseTree.chapters[i].pages[j].keepprogress!==!1&&($("#NE-page-"+i+"-"+j).removeClass("NE-nav-hidden"),$("#NE-page-"+i+"-"+j).find(".NE-nav-hidden").removeClass("NE-nav-hidden")),oneVisible=!0}oneVisible&&$("#NE-chapter-"+i).removeClass("NE-nav-hidden"),i_page=0}},ToggleForwardNavButtons:function(onoff){onoff?($(".NE-nav-forward").removeClass("disable"),NE.UI.SetNavigationButtons()):$(".NE-nav-forward").addClass("disable")},ToggleBackNavButtons:function(onoff){onoff?($(".NE-nav-back").removeClass("disable"),NE.UI.SetNavigationButtons()):$(".NE-nav-back").addClass("disable")},SwitchTopMenu:function(){var menu=$("#"+NE.Constants.FLOATING_HEADER_ID),isXS=$("#isXS").is(":visible");NE.Navigation.CurrentPageIndex>0||NE.Navigation.CurrentChapterIndex>0||isXS?(_topMenuOffset=83,menu.removeClass("NE-offcanvas")):(_topMenuOffset=0,menu.addClass("NE-offcanvas"));var contentOffset=isXS&&0===NE.Navigation.CurrentChapterIndex&&0===NE.Navigation.CurrentPageIndex?_topMenuOffset:0;$("#"+NE.Constants.CHAPTER_ID_PREFIX+"0").css("padding-top",contentOffset+"px")},SetNavigationButtons:function(){0===NE.Navigation.CurrentPageIndex&&0===NE.Navigation.CurrentChapterIndex?$(".NE-nav-back").addClass("disable"):$(".NE-nav-back").removeClass("disable"),NE.Navigation.IsAtLast()?$(".NE-nav-forward").addClass("disable"):$(".NE-nav-forward").removeClass("disable")},RevealPage:function(i_skipAnimation,i_stay){NE.UI.AcceptScrollEvent=!1;var currentPage=NE.Navigation.CurrentPageDiv(),animTime=i_skipAnimation?0:300,doNotScroll=i_stay||!1;currentPage.hasClass("hidden")||currentPage.hasClass("NE-nav-hidden")?(currentPage.parent(".NE-chapter").removeClass("NE-nav-hidden hidden"),currentPage.find(".NE-page").removeClass("NE-nav-hidden"),currentPage.removeClass("NE-nav-hidden hidden").slideUp(0).slideDown(animTime,"swing",function(){NE.UI.Unlock(NE.Navigation.CurrentChapterIndex,NE.Navigation.CurrentPageIndex),doNotScroll||NE.UI.ScrollToPage(i_skipAnimation)})):doNotScroll||NE.UI.ScrollToPage(i_skipAnimation)},ScrollToPage:function(i_skipAnimation){if("hidden"!=$("#"+NE.Constants.SCROLL_CONTAINER_ID).css("overflow")){NE.UI.AcceptScrollEvent=!1;var animTime=i_skipAnimation?0:300,currentPage=NE.Navigation.CurrentPageDiv(),currentChapter=NE.Navigation.CurrentChapterDiv(),scroller=$("#"+NE.Constants.SCROLL_CONTAINER_ID);scroller.animate({scrollTop:"+="+(currentChapter.position().top+currentPage.position().top-_topMenuOffset)},animTime,function(){NE.EventHandlers.AfterPageScroll(),NE.UI.AcceptScrollEvent=!0})}},ScrollHint:function(){var scroller=$("#"+NE.Constants.SCROLL_CONTAINER_ID);$("#NE-scroll-hint").removeClass("hidden").addClass("active"),_scrollHintAnimate(scroller,scroller.scrollTop())},EnableContentScroll:function(){$("#"+NE.Constants.SCROLL_CONTAINER_ID).css({"overflow-y":"auto","-webkit-overflow-scrolling":"touch"})},DisableContentScroll:function(){$("#"+NE.Constants.SCROLL_CONTAINER_ID).css({"overflow-y":"hidden","-webkit-overflow-scrolling":"hidden"})},eof:null}}();