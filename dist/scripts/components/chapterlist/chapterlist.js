if(null===NE||void 0===NE)var NE={};(null===NE.Plugin||void 0===NE.Plugin)&&(NE.Plugin={}),NE.Plugin.chapterlist=function(i_params){function _addToDOM(i_content){_params.node.replaceWith(i_content)}var _myDOMContent,_params=i_params,_settings={},me={Name:"chapterlist",LoadedPages:0,Dependencies:["chapterlist.css"],Init:function(){_settings=_params.settings,NE.Plugin.ApplyTemplate(this,function(data){var panelClasses=_settings.panelClasses||"";data=data.replace(/{ID}/g,_settings.ID).replace(/{panelClasses}/g,panelClasses),_myDOMContent=$(data),_addToDOM(_myDOMContent),me.OnLoaded()})},Update:function(){$(".chapter-link").removeClass("disable current"),$(".NE-chapterlink-"+NE.Navigation.CurrentChapterIndex).addClass("current");for(var nextLocked=(Math.random(),!1),i=0;i<NE.CourseTree.chapters.length;i++)NE.CourseTree.chapters[i].properties.locked===!0&&(nextLocked=!0),nextLocked===!0&&$(".NE-chapterlink-"+i).addClass("disable")},Render:function(params){for(var renderChapters=[],k=0;k<NE.CourseTree.chapters.length;k++){var chapter=NE.CourseTree.chapters[k];chapter.properties.displayInMenu!==!1&&renderChapters.push(chapter)}var breakLimit=_settings.breaklimit||4,numChapters=renderChapters.length,half=Math.ceil(numChapters/2),reps=1,colspan="col-xs-12";colspan+=" col-sm-6",numChapters>=breakLimit&&(reps=2);for(var isLast,returnData="",i=0;reps>i;i++){isLast=i==reps-1?" last-item":"",returnData+=params[0].data.replace(/{colspan}/g,colspan).replace(/{isLastItem}/g,isLast);for(var j=half*i;(0===i&&1!=reps?half:numChapters)>j;j++){isLast=j==numChapters-1?" last-item":"";var currentChapter=renderChapters[j],link=params[1].data.replace(/{cahpterIndex}/g,currentChapter.index);link=link.replace(/{chapterTitle}/g,currentChapter.title),link=link.replace(/{linkPrefix}/g,_settings.linkPrefix),link=link.replace(/{isLastItem}/g,isLast),link=link.replace(/{index}/g,currentChapter.index),returnData+=link}returnData+=params[2].data}return returnData},OnLoaded:function(){},eof:null};return me};